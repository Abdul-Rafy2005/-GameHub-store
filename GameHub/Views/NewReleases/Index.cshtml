@model IEnumerable<GameHub.Models.Game>
@{
    ViewBag.Title = "New Releases";
    var isAuth = (Session["IsAuthenticated"] as bool?) ?? false;
    var isAdmin = ((Session["UserType"] as string) ?? "").Equals("Admin", StringComparison.OrdinalIgnoreCase);
}
<div class="hero-banner" style="background-image:url('/Content/hero-placeholder.jpg')">
  <div class="overlay">
    <h1 class="display-6"><i class="bi bi-stars"></i> New & Trending</h1>
    <p class="lead">Latest releases and trending titles</p>
  </div>
</div>

@if (Model == null || !Model.Any())
{
    <div class="panel-dark text-center py-5">
        <i class="bi bi-inbox display-1 text-muted"></i>
        <h3 class="mt-3">No New Releases</h3>
        <p class="text-muted">Check back soon for the latest games!</p>
        <a href="@Url.Action("Index","Games")" class="btn btn-accent mt-3">Browse All Games</a>
    </div>
}
else
{
    <div class="games-grid">
    @foreach (var game in Model){
      <div class="game-card">
        <img src="/Content/covers/@(game.GameID).jpg" class="cover" alt="@game.Title" onerror="this.src='/Content/cover-placeholder.jpg'" />
        <div class="game-card-body">
          <div class="game-title">@game.Title</div>
          <div class="badges">
              @if(game.Genre1!=null){<span class="badge badge-soft">@game.Genre1.GenreName</span>}
              <span class="badge bg-success">New</span>
          </div>
          <div class="actions mt-2">
              <div class="game-price">$@game.Price</div> 
              <a href="@Url.Action("Details","Games", new { id = game.GameID })" class="btn btn-accent btn-sm">Details</a>
          </div>
        </div>
      </div>
    }
    </div>
}